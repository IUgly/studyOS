## 进程

是一个正在执行程序的实例

 * **创建进程**

   * 导致进程**创建的原因**：

     * 系统的初始化
     * 正运行的进程调用了创建进程
     * 用户请求创建新进程
     * 批处理作业的初始化

   * 启动操作系统时会创建若干进程。

     包括： 

     * 前台进程：同用户交互且为用户完成工作。
     * 后台进程：与特定的用户没关系。如邮件，web页面，打印等活动的进程，称为***守护进程***

   * **UNIX系统**中创建新进程：

     * **fork**，系统会创建一个与调用进程相同的副本。父进程和子进程有相同存储映像（但有各自不同的地址空间），同样的环境字符串和相同的打开文件。通常用户键入命令时，系统会创建一个子进程，然后子进程执行键入的命令。
     * **安排两步建立进程的原因**：为了在fork之后，但在执行（execve）之前**允许该子进程处理其文件描述符**，这样可完成对标准输入，标准输出，标准出差的重定向。

   * 

* **进程的终止**
  * 进程***结束的条件***
    * 自愿
      * 正常退出
      * 出错退出
    * 非自愿
      * 严重错误：		在UNIX中，进程可以通知操作系统，它希望自行处理某些类型的错误，进程会***被中断***，***而不是被终止***
      * 被其它进程杀死

* 进程的**层级结构**
  * 某些操作系统中，进程创建另一个进程后，父进程和子进程继续保持关联，子进程又可以创建更多进程，但是***只有一个父进程***，它及它的后裔共同组成一个***进程组***，
* 





* **进程和程序的区别**

  * 一个程序可以实例出多个进程，反之不能

  * 进程更能描述并发
  * 进程是由程序和数据两部分组成
  * 进程是动态的，加载到内存的。程序是静态的，处于硬盘当中的
  * 进程有生命周期

* **伪并行**：

  CPU由一个进程快速切换到另外一个进程，使每个进程各运行几十或几百毫秒（这种快速切换称作多道程序设计）。

  因为进程在I\O读写的时间相比CPU而言很慢，如果CPU停下来等待该进程则CPU的利用率会很低。这样产生的现象是，一秒内，可能运行多个进程，这就产生了一种程序是并行的错觉。

* **并发和并行**

  * 并发

    * 并发是两个任务共享时间段，如果一个进程要运行两个任务，并且只有**一个CPU核心**为它们分配了时间片，这就是并发。

  * 并行

    * 是两个任务同时发生。比如**多核CPU**中。
    * 并行分为任务并行化和数据并行化。
    * **任务并行化中**，线程不同，工作不同。每个线程不光可为多个不同用户服务，也可为同一个用户执行不同的任务
    * **数据并行化中**，在需要对大量数据执行同样的操作时，可将数据分解为多块，分别执行运算，最后将各数据块上得到的结果汇总，从而得到最终答案。
    * **影响并行流的因素**：
      1. 数据大小： 只有数据足够大，每个数据处理管道花费的时间足够多时，并行化处理才有意义
      2. 源数据结构：每个管道操作都基于初始数据源
      3. 装箱：处理基本类型比处理装箱类型要快。
      4. 核心的数量：运行时，能使用的CPU核心数量
      5. 单元处理开销：花在流中每个元素身上的时间越长，并行操作带来的性能提升就越明显。

    